{"version":3,"sources":["components/Footer/Footer.js","components/Header/Header.js","components/PostComponents/Post.js","components/PostComponents/RecentPosts.js","components/Search/Search.js","components/Sidebar/Sidebar.js","components/Pagination/Pagination.js","components/Loading/Loading.js","screens/HomeScreen/YourPosts.js","screens/PostsNearYou/PostNearYouScreen.js","screens/HomeScreen/HomeScreen.js","screens/LoginScreen/LoginScreen.js","screens/RegisterScreen/RegisterScreen.js","screens/ProfileScreen/ProfileScreen.js","components/PostComponents/SinglePost.js","screens/PostScreen/PostScreen.js","screens/AddPostScreen/AddPostScreen.js","screens/SearchScreen/SearchScreen.js","screens/MyRequestsScreen/MyRequestsScreen.js","App.js","index.js","siteLogo.png","screens/AddImageScreen/AddImageScreen.js"],"names":["Footer","Container","fluid","className","Row","xs","md","Col","to","href","target","Header","isAuth","setIsAuth","Navbar","bg","expand","variant","Brand","src","siteLogo","style","height","alt","Toggle","aria-controls","Collapse","id","Nav","Link","icon","faHome","faPlus","onClick","localStorage","removeItem","faSignInAlt","faDatabase","faUserPlus","Post","posts","heading","alert","useAlert","handleRequest","e","a","userInfo","JSON","parse","getItem","show","type","config","headers","Authorization","token","postid","axios","post","status","msg","response","data","message","map","key","_id","title","width","marginLeft","undefined","imageUri","Image","createdAt","slice","split","desc","bookTitle","author","genArr","gen","Button","text","interest","faCommentAlt","marginRight","marginTop","RecentPosts","postTitles","postTitle","Alert","Search","useState","query","setQuery","category","setCategory","placeholder","value","onChange","marginBottom","ButtonGroup","aria-label","state","size","Sidebar","Pagination","postsPerPage","totalPosts","paginate","pageNumbers","i","Math","ceil","push","number","preventDefault","Loading","Spinner","animation","role","margin","display","YourPosts","setPosts","loading","setLoading","currentPage","setCurrentPage","useEffect","fetch_posts","Array","from","fetchAllPosts","indexOfLastPost","indexOfFirstPost","currentPosts","length","pageNumber","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","isGeolocationAvailable","isGeolocationEnabled","coords","latitude","longitude","console","log","HomeScreen","setPostTitles","get","Tabs","defaultActiveKey","Tab","eventKey","LoginScreen","setProfileFilled","navigate","useNavigate","email","password","formData","setFormData","loginUser","user","setItem","stringify","isProfile","Form","onSubmit","Group","controlId","Label","Control","RegisterScreen","name","registerUser","Text","ProfileScreen","place_name","location","setLocation","genre","submitUserProfile","user_id","fav_genre","getLocationFromText","loc","replace","res","features","geometry","coordinates","Select","SinglePost","PostScreen","setPost","useParams","singlePost","fetchPost","AddPostScreen","genreArr","setGenreArr","genreList","setGenreList","photo","addPost","Accept","myform","FormData","append","accept","files","as","rows","filter","handleGenre","useLocation","MyRequestsScreen","requests","setRequests","fetch_requests","fetchMyRequests","request","username","classname","App","profileFilled","checkAuth","exact","path","element","AddImageScreen","options","position","positions","BOTTOM_CENTER","timeout","offset","transition","transitions","SCALE","ReactDOM","render","template","AlertTemplate","document","getElementById","module","exports","img","setImg","submitForm","multiple","file","reader","window","FileReader","readAsArrayBuffer","onloadend","Buffer","result","captureImage"],"mappings":"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","file":"static/js/main.55589ea3.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nconst Footer = () => {\r\n  return (\r\n    <>\r\n      <Container fluid className=\"bg-dark text-white ft py-4\">\r\n        <Row xs={1} md={3} className=\"footer-text\">\r\n          <Col>\r\n            <p>\r\n              Welcome to 7Book. Sharing Books is made easy and fun with 7Book.\r\n            </p>\r\n          </Col>\r\n          <Col>\r\n            <p>\r\n              Connect with your nearest Book lover and share your favourite\r\n              books!\r\n            </p>\r\n          </Col>\r\n          <Col>\r\n            <ul className=\"list-unstyled\">\r\n              <li>\r\n                <h5>Our Links</h5>\r\n              </li>\r\n              <LinkContainer to=\"/\">\r\n                <li className=\"links\">Home</li>\r\n              </LinkContainer>\r\n              <a\r\n                className=\"links\"\r\n                href=\"https://github.com/rharshit82\"\r\n                target=\"blank\"\r\n              >\r\n                <li>Github</li>\r\n              </a>\r\n            </ul>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"text-center\">\r\n            <p>Copyright &copy; 2021 7Book</p>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faPlus,\r\n  faSignInAlt,\r\n  faUserPlus,\r\n  faHome,\r\n  faDatabase,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport siteLogo from \"../../siteLogo.png\";\r\n\r\nconst Header = ({ isAuth, setIsAuth }) => {\r\n  const Logout = () => {\r\n    localStorage.removeItem(\"userInfo\");\r\n    setIsAuth(false);\r\n  };\r\n  return (\r\n    <>\r\n      <Navbar className=\" py-2\" bg=\"dark\" expand=\"lg\" variant=\"dark\">\r\n        <LinkContainer to=\"/\">\r\n          <Navbar.Brand className=\"ms-3 \">\r\n            <div className=\"d-flex text-center justify-content-center align-items-center \">\r\n              <img src={siteLogo} style={{ height: \"60px\" }} alt=\"edumatric\" />\r\n              <h1 className=\"site-title\">7Book</h1>\r\n            </div>\r\n          </Navbar.Brand>\r\n        </LinkContainer>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"ms-auto me-3\">\r\n            <LinkContainer to=\"/\">\r\n              <Nav.Link className=\"px-3\">\r\n                <FontAwesomeIcon icon={faHome} />\r\n                Home\r\n              </Nav.Link>\r\n            </LinkContainer>\r\n            <LinkContainer to=\"/addpost\">\r\n              <Nav.Link className=\"px-3\">\r\n                <FontAwesomeIcon icon={faPlus} />\r\n                Add Post\r\n              </Nav.Link>\r\n            </LinkContainer>\r\n            {isAuth ? (\r\n              <div className=\"d-flex\">\r\n                <Nav.Link className=\"px-3\" onClick={() => Logout()}>\r\n                  {\" \"}\r\n                  <FontAwesomeIcon icon={faSignInAlt} />\r\n                  Logout\r\n                </Nav.Link>\r\n                <LinkContainer to=\"/myrequests\">\r\n                  <Nav.Link className=\"px-3\">\r\n                    {\" \"}\r\n                    <FontAwesomeIcon icon={faDatabase} />\r\n                    My Requests\r\n                  </Nav.Link>\r\n                </LinkContainer>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <LinkContainer to=\"/login\">\r\n                  <Nav.Link className=\"px-3\">\r\n                    {\" \"}\r\n                    <FontAwesomeIcon icon={faSignInAlt} />\r\n                    Login\r\n                  </Nav.Link>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/register\">\r\n                  <Nav.Link className=\"px-3\">\r\n                    {\" \"}\r\n                    <FontAwesomeIcon icon={faUserPlus} />\r\n                    Register\r\n                  </Nav.Link>\r\n                </LinkContainer>\r\n              </>\r\n            )}\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Image, Button } from \"react-bootstrap\";\r\nimport \"./PostComponents.css\";\r\nimport { faCommentAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useAlert } from \"react-alert\";\r\n\r\nconst Post = ({ posts, heading }) => {\r\n  const alert = useAlert();\r\n  // useEffect(() => {\r\n  //   console.log(posts);\r\n  // }, []);\r\n\r\n  const handleRequest = async (e) => {\r\n    const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n    if (!userInfo) {\r\n      alert.show(\"Not Logged In\", { type: \"error\" });\r\n      return;\r\n    }\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n    try {\r\n      const postid = e.target.id;\r\n      const post = await axios.post(\"/api/requestswap\", { postid }, config);\r\n      if (post.status === 201) {\r\n        alert.show(\"Requested\", { type: \"success\" });\r\n      }\r\n    } catch (err) {\r\n      const msg = err.response ? err.response.data.message : err;\r\n      alert.show(msg, { type: \"error\" });\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div>\r\n        <h1 className=\" text-center mt-3\">{heading}</h1>\r\n        <div>\r\n          {posts.map((post) => (\r\n            <div className=\"singlepost\" key={post._id}>\r\n              <LinkContainer to={`/post/${post._id}`}>\r\n                <h2 className=\"links text-center mt-3\">\r\n                  <u>{post.title}</u>\r\n                </h2>\r\n              </LinkContainer>\r\n              <div className=\"d-flex postCont\">\r\n                <div\r\n                  className=\"postImage\"\r\n                  style={{ width: \"30%\", marginLeft: \"1em\" }}\r\n                >\r\n                  {post.imageUri != undefined ? (\r\n                    <Image fluid src={post.imageUri} style={{}} />\r\n                  ) : null}\r\n                </div>\r\n                <div style={{ marginLeft: \"2em\" }}>\r\n                  <p>\r\n                    Posted on {post.createdAt.slice(0, 10)} at\r\n                    {` ` + post.createdAt.split(\"T\")[1].split(\".\")[0]}\r\n                  </p>\r\n                  <p>Description: {post.desc}</p>\r\n                  <p>Book Title: {post.bookTitle}</p>\r\n                  <p>Book Author: {post.author}</p>\r\n                  Genres:\r\n                  {post.genArr.map((gen) => {\r\n                    return (\r\n                      <Button className=\"mx-3 my-2\" variant=\"success\">\r\n                        {gen.text}\r\n                      </Button>\r\n                    );\r\n                  })}\r\n                  <p>Interested Book/ Genre: {post.interest}</p>\r\n                </div>\r\n                <div className=\"ms-auto me-5 chat\">\r\n                  <div>\r\n                    <FontAwesomeIcon\r\n                      icon={faCommentAlt}\r\n                      style={{ marginRight: \"0.5em\" }}\r\n                    />\r\n                    Chat\r\n                  </div>\r\n                  <Button\r\n                    // onClick={(e) => setIsRequested(true)}\r\n                    style={{ marginTop: \"1em\" }}\r\n                    variant=\"warning\"\r\n                    id={post._id}\r\n                    onClick={handleRequest}\r\n                  >\r\n                    Request Swap\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Alert } from \"react-bootstrap\";\r\nconst RecentPosts = ({ postTitles }) => {\r\n  return (\r\n    <>\r\n      <h5>Recent Posts</h5>\r\n      <ul>\r\n        {postTitles.map((postTitle) => (\r\n          <LinkContainer to={`/post/${postTitle[1]}`} key={postTitle[1]}>\r\n            <Alert className=\"links\">{postTitle[0]}</Alert>\r\n          </LinkContainer>\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RecentPosts;\r\n","import React, { useState } from \"react\";\r\nimport { Button, ButtonGroup } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nconst Search = () => {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n\r\n  return (\r\n    <div className=\"my-4\">\r\n      <p>Search Posts</p>\r\n      <input\r\n        className=\"mx-auto d-block\"\r\n        type=\"text\"\r\n        placeholder=\"Enter Search Query\"\r\n        value={query}\r\n        onChange={(e) => setQuery(e.target.value)}\r\n        style={{ marginBottom: \"1em\" }}\r\n      />\r\n      <div className=\"d-flex flex-column\">\r\n        <ButtonGroup aria-label=\"category\">\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={(e) => {\r\n              setCategory(\"Genre\");\r\n            }}\r\n          >\r\n            Genre\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={(e) => {\r\n              setCategory(\"BookTitle\");\r\n            }}\r\n          >\r\n            Book Title\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={(e) => {\r\n              setCategory(\"Author\");\r\n            }}\r\n          >\r\n            Author\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={(e) => {\r\n              setCategory(\"PostTitle\");\r\n            }}\r\n          >\r\n            Post Title\r\n          </Button>\r\n        </ButtonGroup>\r\n        <Link to={`/search`} state={{ query, category }}>\r\n          <Button className=\"d-block my-4 mx-auto\" variant=\"primary\" size=\"lg\">\r\n            Search\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport RecentPosts from \"../PostComponents/RecentPosts\";\r\nimport Search from \"../Search/Search\";\r\nconst Sidebar = ({ postTitles }) => {\r\n  return (\r\n    <>\r\n      <div>\r\n        <h2 className=\"text-center\">Sidebar</h2>\r\n        <Search />\r\n        <RecentPosts postTitles={postTitles} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from 'react'\r\nconst Pagination = ({ postsPerPage, totalPosts, paginate }) => {\r\n  const pageNumbers = []\r\n  for (let i = 1; i <= Math.ceil(totalPosts / postsPerPage); i++) {\r\n    pageNumbers.push(i)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ul className='pagination align-content-center justify-content-center'>\r\n        {pageNumbers.map((number) => (\r\n          <li key={number} className='page-item'>\r\n            <a\r\n              href='!#'\r\n              onClick={(e) => {\r\n                e.preventDefault()\r\n                paginate(number)\r\n              }}\r\n              className='page-link'\r\n            >\r\n              {number}\r\n            </a>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Pagination\r\n","import React from 'react'\r\nimport { Spinner } from 'react-bootstrap'\r\nconst Loading = () => {\r\n  return (\r\n    <Spinner\r\n      animation='border'\r\n      role='status'\r\n      style={{\r\n        margin: 'auto',\r\n        width: '100px',\r\n        height: '100px',\r\n        display: 'block',\r\n      }}\r\n    >\r\n      <span className='sr-only'>Loading...</span>\r\n    </Spinner>\r\n  )\r\n}\r\n\r\nexport default Loading\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Post from \"../../components/PostComponents/Post\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\nimport Loading from \"../../components/Loading/Loading\";\r\nimport { useAlert } from \"react-alert\";\r\nimport \"./HomeScreen.css\";\r\nconst YourPosts = () => {\r\n  const alert = useAlert();\r\n\r\n  //States\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [postsPerPage] = useState(5);\r\n\r\n  //UseEffect\r\n  useEffect(() => {\r\n    async function fetchAllPosts() {\r\n      try {\r\n        const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n        const config = {\r\n          headers: {\r\n            Authorization: `Bearer ${userInfo.token}`,\r\n          },\r\n        };\r\n        let fetch_posts = await axios.post(\"/api/myposts\", {}, config);\r\n        if (loading) {\r\n          const data = Array.from(fetch_posts.data);\r\n          setLoading(false);\r\n          setPosts(data);\r\n        }\r\n      } catch (err) {\r\n        const msg = err.response ? err.response.data.message : err;\r\n        alert.show(msg, { type: \"error\" });\r\n      }\r\n    }\r\n    fetchAllPosts();\r\n    return () => {\r\n      setLoading(false);\r\n    };\r\n  }, []);\r\n\r\n  //Get current posts\r\n  const indexOfLastPost = currentPage * postsPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n  const currentPosts = posts.slice(indexOfFirstPost, indexOfLastPost);\r\n\r\n  //Change Page\r\n  const paginate = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  //Return value\r\n  return (\r\n    <div className=\"px-5 \">\r\n      <div className=\"\">\r\n        {posts === null ? (\r\n          <Loading />\r\n        ) : posts.length === 0 ? (\r\n          <Loading />\r\n        ) : (\r\n          <Post posts={currentPosts} loading={loading} heading=\"Your Posts\" />\r\n        )}\r\n        <Pagination\r\n          postsPerPage={postsPerPage}\r\n          totalPosts={posts.length}\r\n          paginate={paginate}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default YourPosts;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { geolocated } from \"react-geolocated\";\r\nimport axios from \"axios\";\r\nimport Post from \"../../components/PostComponents/Post\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\nimport Loading from \"../../components/Loading/Loading\";\r\nimport { useAlert } from \"react-alert\";\r\nconst PostNearYouScreen = ({\r\n  isGeolocationAvailable,\r\n  isGeolocationEnabled,\r\n  coords,\r\n}) => {\r\n  const alert = useAlert();\r\n\r\n  //States\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [postsPerPage] = useState(5);\r\n\r\n  //UseEffect\r\n  useEffect(() => {\r\n    async function fetchAllPosts() {\r\n      try {\r\n        let latitude, longitude;\r\n        if (isGeolocationAvailable) {\r\n          if (isGeolocationEnabled && coords !== null) {\r\n            latitude = coords.latitude;\r\n            longitude = coords.longitude;\r\n            let fetch_posts = await axios.post(\"/api/nearposts\", {\r\n              latitude,\r\n              longitude,\r\n            });\r\n            if (loading) {\r\n              const data = Array.from(fetch_posts.data);\r\n              setLoading(false);\r\n              setPosts(data);\r\n            }\r\n          }\r\n        }\r\n      } catch (err) {\r\n        const msg = err.response ? err.response.data.message : err;\r\n        alert.show(msg, { type: \"error\" });\r\n        console.log(msg);\r\n      }\r\n    }\r\n    fetchAllPosts();\r\n  }, [coords]);\r\n\r\n  //Get current posts\r\n  const indexOfLastPost = currentPage * postsPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n  const currentPosts = posts.slice(indexOfFirstPost, indexOfLastPost);\r\n\r\n  //Change Page\r\n  const paginate = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  //Return value\r\n  return (\r\n    <div className=\"px-5 \">\r\n      <div className=\"\">\r\n        {posts === null ? (\r\n          <div>No Post Found</div>\r\n        ) : posts.length === 0 ? (\r\n          <div>No Post Found</div>\r\n        ) : (\r\n          <Post posts={currentPosts} loading={loading} heading=\"Post Results\" />\r\n        )}\r\n        <Pagination\r\n          postsPerPage={postsPerPage}\r\n          totalPosts={posts.length}\r\n          paginate={paginate}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default geolocated({\r\n  positionOptions: {\r\n    enableHighAccuracy: false,\r\n  },\r\n  userDecisionTimeout: 5000,\r\n})(PostNearYouScreen);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Post from \"../../components/PostComponents/Post\";\r\nimport Sidebar from \"../../components/Sidebar/Sidebar\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\nimport Loading from \"../../components/Loading/Loading\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { Tabs, Tab } from \"react-bootstrap\";\r\nimport \"./HomeScreen.css\";\r\nimport YourPosts from \"./YourPosts\";\r\nimport PostNearYouScreen from \"../PostsNearYou/PostNearYouScreen\";\r\nconst HomeScreen = ({ isAuth }) => {\r\n  const alert = useAlert();\r\n\r\n  //States\r\n  const [posts, setPosts] = useState([]);\r\n  const [postTitles, setPostTitles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [postsPerPage] = useState(5);\r\n  //UseEffect\r\n  useEffect(() => {\r\n    async function fetchAllPosts() {\r\n      try {\r\n        let fetch_posts = await axios.get(\"/api/fetch_posts\");\r\n        if (loading) {\r\n          const data = Array.from(fetch_posts.data);\r\n\r\n          setLoading(false);\r\n          setPosts(data);\r\n          setPostTitles(data.map((post) => [post.title, post._id]).slice(0, 6));\r\n        }\r\n      } catch (err) {\r\n        const msg = err.response ? err.response.data.message : err;\r\n        alert.show(msg, { type: \"error\" });\r\n      }\r\n    }\r\n    fetchAllPosts();\r\n    return () => {\r\n      setLoading(false);\r\n    };\r\n  }, []);\r\n\r\n  //Get current posts\r\n  const indexOfLastPost = currentPage * postsPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n  const currentPosts = posts.slice(indexOfFirstPost, indexOfLastPost);\r\n\r\n  //Change Page\r\n  const paginate = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  //Return value\r\n  return (\r\n    <div className=\"d-flex mainCont\">\r\n      <div className=\"posts\">\r\n        <Tabs\r\n          defaultActiveKey=\"recentposts\"\r\n          id=\"uncontrolled-tab-example\"\r\n          className=\"mb-3\"\r\n        >\r\n          <Tab eventKey=\"recentposts\" title=\"Recent Posts\">\r\n            <div className=\"\">\r\n              {posts === null ? (\r\n                <Loading />\r\n              ) : posts.length === 0 ? (\r\n                <Loading />\r\n              ) : (\r\n                <Post\r\n                  posts={currentPosts}\r\n                  loading={loading}\r\n                  heading=\"Recent Posts\"\r\n                />\r\n              )}\r\n              <Pagination\r\n                postsPerPage={postsPerPage}\r\n                totalPosts={posts.length}\r\n                paginate={paginate}\r\n              />\r\n            </div>\r\n          </Tab>\r\n          <Tab eventKey=\"yourposts\" title=\"Your Posts\">\r\n            {isAuth ? <YourPosts /> : <h2>Not Logged In</h2>}\r\n          </Tab>\r\n          <Tab eventKey=\"nearestposts\" title=\"Posts near You\">\r\n            <PostNearYouScreen />\r\n          </Tab>\r\n        </Tabs>\r\n      </div>\r\n      <div className=\"sidebar mx-5\">\r\n        <Sidebar postTitles={postTitles} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomeScreen;\r\n","import React, { useState } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst LoginScreen = ({ setIsAuth, setProfileFilled }) => {\r\n  let navigate = useNavigate();\r\n\r\n  const alert = useAlert();\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const loginUser = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      let user = await axios.post(\"/auth/login\", {\r\n        email: formData.email,\r\n        password: formData.password,\r\n      });\r\n      localStorage.setItem(\"userInfo\", JSON.stringify(user.data));\r\n      if (user.status === 201) {\r\n        if (user.data.isProfile) {\r\n          setProfileFilled(true);\r\n          navigate(\"/\");\r\n        } else setProfileFilled(false);\r\n        setIsAuth(true);\r\n        alert.show(\"Login Success\", { type: \"success\" });\r\n      }\r\n    } catch (err) {\r\n      const msg = err.response ? err.response.data.message : err;\r\n      alert.show(msg, { type: \"error\" });\r\n    }\r\n  };\r\n  return (\r\n    <div id=\"mt\">\r\n      <h3 className=\"text-center\">User Login</h3>\r\n      <Form className=\"w-50 m-auto text-center\" onSubmit={loginUser}>\r\n        <Form.Group controlId=\"email\">\r\n          <Form.Label>Email address</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            placeholder=\"Enter email\"\r\n            value={formData.email}\r\n            onChange={(e) =>\r\n              setFormData({ ...formData, email: e.target.value })\r\n            }\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"password\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={formData.password}\r\n            onChange={(e) =>\r\n              setFormData({ ...formData, password: e.target.value })\r\n            }\r\n          />\r\n        </Form.Group>\r\n        <Button className=\"mt-3\" variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginScreen;\r\n","import React, { useState } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst RegisterScreen = ({ setIsAuth }) => {\r\n  let navigate = useNavigate();\r\n\r\n  const alert = useAlert();\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const registerUser = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      let user = await axios.post(\"/auth/register\", {\r\n        name: formData.name,\r\n        email: formData.email,\r\n        password: formData.password,\r\n      });\r\n      localStorage.setItem(\"userInfo\", JSON.stringify(user.data));\r\n      if (user.status === 201) {\r\n        setIsAuth(true);\r\n        navigate(\"/profile\");\r\n        alert.show(\"Registration Successful\", { type: \"success\" });\r\n      }\r\n    } catch (err) {\r\n      const msg = err.response ? err.response.data.message : err;\r\n      alert.show(msg, { type: \"error\" });\r\n    }\r\n  };\r\n  return (\r\n    <div id=\"mt\">\r\n      <h3 className=\"text-center\">User Register</h3>\r\n      <Form className=\"w-50 m-auto text-center\" onSubmit={registerUser}>\r\n        <Form.Group controlId=\"name\">\r\n          <Form.Label>Name</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter your Name\"\r\n            value={formData.name}\r\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"email\">\r\n          <Form.Label>Email address</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            placeholder=\"Enter email\"\r\n            value={formData.email}\r\n            onChange={(e) =>\r\n              setFormData({ ...formData, email: e.target.value })\r\n            }\r\n          />\r\n          <Form.Text className=\"text-muted\">\r\n            We'll never share your email with anyone else.\r\n          </Form.Text>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"password\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={formData.password}\r\n            onChange={(e) =>\r\n              setFormData({ ...formData, password: e.target.value })\r\n            }\r\n          />\r\n        </Form.Group>\r\n        <Button className=\"mt-3\" variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterScreen;\r\n","import React, { useState } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst ProfileScreen = ({ setProfileFilled }) => {\r\n  let navigate = useNavigate();\r\n\r\n  const genreList = [\r\n    { id: \"61f0132429cbf76c5b4c7ebf\", text: \"Adult Fiction\" },\r\n    { id: \"61f0133329cbf76c5b4c7ec0\", text: \"Horror\" },\r\n    { id: \"61f0133f29cbf76c5b4c7ec1\", text: \"Fiction\" },\r\n    { id: \"61f0134629cbf76c5b4c7ec2\", text: \"Fantasy\" },\r\n    { id: \"61f0134d29cbf76c5b4c7ec3\", text: \"Mystery\" },\r\n    { id: \"61f0135529cbf76c5b4c7ec4\", text: \"Politics\" },\r\n    { id: \"61f0135c29cbf76c5b4c7ec5\", text: \"Science Fiction\" },\r\n    { id: \"61f0136329cbf76c5b4c7ec6\", text: \"Thriller\" },\r\n    { id: \"61f0136b29cbf76c5b4c7ec7\", text: \"War\" },\r\n    { id: \"61f0137329cbf76c5b4c7ec8\", text: \"Art\" },\r\n    { id: \"61f0137929cbf76c5b4c7ec9\", text: \"Biography\" },\r\n    { id: \"61f0138029cbf76c5b4c7eca\", text: \"Business\" },\r\n    { id: \"61f0138829cbf76c5b4c7ecb\", text: \"Classics\" },\r\n    { id: \"61f0138f29cbf76c5b4c7ecc\", text: \"Comics\" },\r\n    { id: \"61f0139529cbf76c5b4c7ecd\", text: \"Contemporary\" },\r\n    { id: \"61f013a029cbf76c5b4c7ece\", text: \"Cookbooks\" },\r\n    { id: \"61f013a629cbf76c5b4c7ecf\", text: \"Crime\" },\r\n    { id: \"61f013ad29cbf76c5b4c7ed0\", text: \"History\" },\r\n    { id: \"61f013b629cbf76c5b4c7ed1\", text: \"Humor and Comedy\" },\r\n    { id: \"61f013c129cbf76c5b4c7ed2\", text: \"Memoir\" },\r\n  ];\r\n\r\n  const alert = useAlert();\r\n  const [location, setLocation] = useState({\r\n    place_name: \"\",\r\n    latitude: null,\r\n    longitude: null,\r\n  });\r\n  const [formData, setFormData] = useState({\r\n    genre: \"61f0132429cbf76c5b4c7ebf\",\r\n  });\r\n  const submitUserProfile = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      let userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n      console.log(userInfo);\r\n      let res = await axios.post(\"/auth/profile\", {\r\n        location: location.place_name,\r\n        latitude: location.latitude,\r\n        longitude: location.longitude,\r\n        user_id: userInfo._id,\r\n        fav_genre: formData.genre,\r\n      });\r\n      if (res.status === 201) {\r\n        setProfileFilled(true);\r\n        navigate(\"/\");\r\n        alert.show(\"Profile Filled Successfully\", { type: \"success\" });\r\n      }\r\n    } catch (err) {\r\n      const msg = err.response ? err.response.data.message : err;\r\n      alert.show(msg, { type: \"error\" });\r\n    }\r\n  };\r\n\r\n  const getLocationFromText = async (e) => {\r\n    e.preventDefault();\r\n    if (formData.location.length > 0) {\r\n      const loc = formData.location.replace(\" \", \"%20\");\r\n\r\n      const res = await axios.get(\r\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${loc}.json?access_token=pk.eyJ1IjoicmhhcnNoaXQ4MiIsImEiOiJja3lzdHZrZWsxN2x1MnFwdG5odDU0dDY4In0.Vzpw618KcpQyA3sPLPMpNQ&autocomplete=false&limit=1&country=IN&worldview=in`\r\n      );\r\n      setLocation({\r\n        place_name: res.data.features[0].place_name,\r\n        latitude: res.data.features[0].geometry.coordinates[1],\r\n        longitude: res.data.features[0].geometry.coordinates[0],\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div id=\"mt\">\r\n      <h3 className=\"text-center\">User Profile</h3>\r\n      <Form className=\"w-50 m-auto text-center\" onSubmit={submitUserProfile}>\r\n        <Form.Group controlId=\"location\">\r\n          <Form.Label>Location</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter your location\"\r\n            value={formData.location}\r\n            onChange={(e) =>\r\n              setFormData({ ...formData, location: e.target.value })\r\n            }\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button\r\n          style={{ marginTop: \"1em\", marginBottom: \"1em\" }}\r\n          onClick={(e) => getLocationFromText(e)}\r\n        >\r\n          Get Location From Text\r\n        </Button>\r\n        {location.place_name && location.place_name.length > 0 ? (\r\n          <div>\r\n            <p>Your Location: {location.place_name}</p>\r\n          </div>\r\n        ) : null}\r\n\r\n        <Form.Group controlId=\"genre\">\r\n          <Form.Label>Select your favourite genre</Form.Label>\r\n          <Form.Select\r\n            aria-label=\"genre\"\r\n            onChange={(e) =>\r\n              setFormData({ ...formData, genre: e.target.value })\r\n            }\r\n          >\r\n            {genreList.map((genre) => {\r\n              return (\r\n                <option key={genre.id} value={genre.id}>\r\n                  {genre.text}\r\n                </option>\r\n              );\r\n            })}\r\n          </Form.Select>\r\n        </Form.Group>\r\n        <Button className=\"mt-3\" variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\n// export default ProfileScreen;\r\nexport default ProfileScreen;\r\n","import React, { useEffect } from \"react\";\r\nimport { LinkContainer, Card } from \"react-router-bootstrap\";\r\nimport { Image, Button } from \"react-bootstrap\";\r\nimport { faCommentAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nconst SinglePost = ({ post }) => {\r\n  useEffect(() => {});\r\n  return (\r\n    <div className=\"w-75\">\r\n      <div className=\"singlepost\" key={post._id}>\r\n        <h2 className=\" text-center mt-3\">\r\n          <u>{post.title}</u>\r\n        </h2>\r\n        <div className=\"d-flex\">\r\n          <div style={{ width: \"30%\", marginLeft: \"1em\" }}>\r\n            {post.imageUri != undefined ? (\r\n              <Image fluid src={post.imageUri} style={{}} />\r\n            ) : null}\r\n          </div>\r\n          <div style={{ marginLeft: \"2em\" }}>\r\n            <p>\r\n              Posted on {post.createdAt.slice(0, 10)} at\r\n              {` ` + post.createdAt.split(\"T\")[1].split(\".\")[0]}\r\n            </p>\r\n            <p>Description: {post.desc}</p>\r\n            <p>Book Title: {post.bookTitle}</p>\r\n            <p>Book Author: {post.author}</p>\r\n            Genres:\r\n            {post.genArr.map((gen) => {\r\n              return (\r\n                <Button className=\"mx-3 my-2\" variant=\"success\">\r\n                  {gen.text}\r\n                </Button>\r\n              );\r\n            })}\r\n          </div>\r\n          <div className=\"ms-auto me-5 chat\">\r\n            <FontAwesomeIcon\r\n              icon={faCommentAlt}\r\n              style={{ marginRight: \"0.5em\" }}\r\n            />\r\n            Chat\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SinglePost;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport SinglePost from \"../../components/PostComponents/SinglePost\";\r\nimport Loading from \"../../components/Loading/Loading\";\r\nimport { useAlert } from \"react-alert\";\r\n\r\nconst PostScreen = () => {\r\n  const alert = useAlert();\r\n  const [post, setPost] = useState(null);\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    async function fetchPost() {\r\n      try {\r\n        const singlePost = await axios.post(\"/api/fetch_post\", { id });\r\n        setPost(singlePost.data);\r\n      } catch (err) {\r\n        const msg = err.response ? err.response.data.message : err;\r\n        alert.show(msg, { type: \"error\" });\r\n      }\r\n    }\r\n    fetchPost();\r\n  }, []);\r\n  return (\r\n    <div id=\"mt\">\r\n      {post === null ? <Loading /> : <SinglePost post={post} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostScreen;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst AddPostScreen = ({ isAuth }) => {\r\n  const [genreArr, setGenreArr] = useState([]);\r\n\r\n  const [genreList, setGenreList] = useState([\r\n    { id: \"61f0132429cbf76c5b4c7ebf\", text: \"Adult Fiction\" },\r\n    { id: \"61f0133329cbf76c5b4c7ec0\", text: \"Horror\" },\r\n    { id: \"61f0133f29cbf76c5b4c7ec1\", text: \"Fiction\" },\r\n    { id: \"61f0134629cbf76c5b4c7ec2\", text: \"Fantasy\" },\r\n    { id: \"61f0134d29cbf76c5b4c7ec3\", text: \"Mystery\" },\r\n    { id: \"61f0135529cbf76c5b4c7ec4\", text: \"Politics\" },\r\n    { id: \"61f0135c29cbf76c5b4c7ec5\", text: \"Science Fiction\" },\r\n    { id: \"61f0136329cbf76c5b4c7ec6\", text: \"Thriller\" },\r\n    { id: \"61f0136b29cbf76c5b4c7ec7\", text: \"War\" },\r\n    { id: \"61f0137329cbf76c5b4c7ec8\", text: \"Art\" },\r\n    { id: \"61f0137929cbf76c5b4c7ec9\", text: \"Biography\" },\r\n    { id: \"61f0138029cbf76c5b4c7eca\", text: \"Business\" },\r\n    { id: \"61f0138829cbf76c5b4c7ecb\", text: \"Classics\" },\r\n    { id: \"61f0138f29cbf76c5b4c7ecc\", text: \"Comics\" },\r\n    { id: \"61f0139529cbf76c5b4c7ecd\", text: \"Contemporary\" },\r\n    { id: \"61f013a029cbf76c5b4c7ece\", text: \"Cookbooks\" },\r\n    { id: \"61f013a629cbf76c5b4c7ecf\", text: \"Crime\" },\r\n    { id: \"61f013ad29cbf76c5b4c7ed0\", text: \"History\" },\r\n    { id: \"61f013b629cbf76c5b4c7ed1\", text: \"Humor and Comedy\" },\r\n    { id: \"61f013c129cbf76c5b4c7ed2\", text: \"Memoir\" },\r\n  ]);\r\n  const navigate = useNavigate();\r\n  const alert = useAlert();\r\n  const [formData, setFormData] = useState({\r\n    photo: \"\",\r\n    title: \"\",\r\n    desc: \"\",\r\n    bookTitle: \"\",\r\n    author: \"\",\r\n    interest: \"\",\r\n    genre: \"\",\r\n  });\r\n  const handleGenre = (e) => {\r\n    setGenreArr([\r\n      ...genreArr,\r\n      {\r\n        id: e.target.value,\r\n        text: genreList.filter((genre) => genre.id == e.target.value)[0].text,\r\n      },\r\n    ]);\r\n    setGenreList(genreList.filter((genre) => genre.id !== e.target.value));\r\n  };\r\n  useEffect(() => {\r\n    if (!isAuth) {\r\n      navigate(\"/login\");\r\n    }\r\n  }, []);\r\n  const addPost = async (e) => {\r\n    e.preventDefault();\r\n    const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n    const config = {\r\n      headers: {\r\n        \"content-type\": \"multipart/form-data\",\r\n        Accept: \"multipart/form-data\",\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n    let myform = new FormData();\r\n    myform.append(\"photo\", formData.photo);\r\n    myform.append(\"title\", formData.title);\r\n    myform.append(\"desc\", formData.desc);\r\n    myform.append(\"bookTitle\", formData.bookTitle);\r\n    myform.append(\"author\", formData.author);\r\n    myform.append(\"interest\", formData.interest);\r\n    myform.append(\r\n      \"genre\",\r\n      genreArr.map((gen) => gen.id)\r\n    );\r\n    try {\r\n      const post = await axios.post(\"/api/add_post\", myform, config);\r\n      if (post.status === 201) {\r\n        alert.show(\"Post Added Successfuly\", { type: \"success\" });\r\n      }\r\n    } catch (err) {\r\n      const msg = err.response ? err.response.data.message : err;\r\n      alert.show(msg, { type: \"error\" });\r\n    }\r\n  };\r\n  const handlePhoto = (e) => {\r\n    setFormData({ ...formData, photo: e.target.files[0] });\r\n  };\r\n  return (\r\n    <div id=\"mt\">\r\n      <h3 className=\"text-center\">Add new Post</h3>\r\n      <div className=\"container my-4\">\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-6 col-sm-6 text-center uploadphoto\">\r\n            <p>Upload An Image</p>\r\n          </div>\r\n\r\n          <div className=\"col-lg-6 col-sm-6 text-center\">\r\n            <input\r\n              type=\"file\"\r\n              accept=\".png, .jpg, .jpeg\"\r\n              name=\"photo\"\r\n              onChange={handlePhoto}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Form className=\"w-75 m-auto text-center\" onSubmit={addPost}>\r\n        <Form.Group className=\"my-2\" controlId=\"title\">\r\n          <Form.Label>Title</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter Post Title\"\r\n            value={formData.title}\r\n            onChange={(e) =>\r\n              setFormData({ ...formData, title: e.target.value })\r\n            }\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"my-2\" controlId=\"content\">\r\n          <Form.Label>Description</Form.Label>\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            rows={8}\r\n            placeholder=\"Enter Description\"\r\n            value={formData.desc}\r\n            onChange={(e) => setFormData({ ...formData, desc: e.target.value })}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"my-2\" controlId=\"booktitle\">\r\n          <Form.Label>Book Title</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter Book Title\"\r\n            value={formData.bookTitle}\r\n            onChange={(e) =>\r\n              setFormData({ ...formData, bookTitle: e.target.value })\r\n            }\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"my-2\" controlId=\"title\">\r\n          <Form.Label>Author</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter Author's name\"\r\n            value={formData.author}\r\n            onChange={(e) =>\r\n              setFormData({ ...formData, author: e.target.value })\r\n            }\r\n          />\r\n        </Form.Group>\r\n        {genreArr.length > 0\r\n          ? genreArr.map((genre) => {\r\n              return (\r\n                <Alert key={genre.id} variant=\"primary\">\r\n                  {genre.text}\r\n                </Alert>\r\n              );\r\n            })\r\n          : null}\r\n        <Form.Group controlId=\"genre\">\r\n          <Form.Label>Select Book Genre</Form.Label>\r\n          <Form.Select aria-label=\"genre\" onChange={(e) => handleGenre(e)}>\r\n            <option value=\"\">Select your Option</option>\r\n            {genreList.map((genre) => {\r\n              return (\r\n                <option key={genre.id} value={genre.id}>\r\n                  {genre.text}\r\n                </option>\r\n              );\r\n            })}\r\n          </Form.Select>\r\n        </Form.Group>\r\n        <Form.Group className=\"my-2\" controlId=\"interest\">\r\n          <Form.Label>Interested Book/ Genre</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter your Interest\"\r\n            value={formData.interest}\r\n            onChange={(e) =>\r\n              setFormData({ ...formData, interest: e.target.value })\r\n            }\r\n          />\r\n        </Form.Group>\r\n        <Button className=\"mt-3\" variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddPostScreen;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Post from \"../../components/PostComponents/Post\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\nimport Loading from \"../../components/Loading/Loading\";\r\nimport { useAlert } from \"react-alert\";\r\nimport \"./SearchScreen.css\";\r\nconst YourPosts = () => {\r\n  const alert = useAlert();\r\n  const location = useLocation();\r\n\r\n  const { query, category } = location.state;\r\n\r\n  //States\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [postsPerPage] = useState(5);\r\n\r\n  //UseEffect\r\n  useEffect(() => {\r\n    async function fetchAllPosts() {\r\n      try {\r\n        let fetch_posts = await axios.post(\"/api/searchposts\", {\r\n          query,\r\n          category,\r\n        });\r\n        if (loading) {\r\n          const data = Array.from(fetch_posts.data);\r\n          setLoading(false);\r\n          setPosts(data);\r\n        }\r\n      } catch (err) {\r\n        const msg = err.response ? err.response.data.message : err;\r\n        alert.show(msg, { type: \"error\" });\r\n        console.log(msg);\r\n      }\r\n    }\r\n    fetchAllPosts();\r\n    return () => {\r\n      setLoading(false);\r\n    };\r\n  }, []);\r\n\r\n  //Get current posts\r\n  const indexOfLastPost = currentPage * postsPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n  const currentPosts = posts.slice(indexOfFirstPost, indexOfLastPost);\r\n\r\n  //Change Page\r\n  const paginate = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  //Return value\r\n  return (\r\n    <div className=\"px-5 \">\r\n      <div className=\"\">\r\n        {posts === null ? (\r\n          <div>No Post Found</div>\r\n        ) : posts.length === 0 ? (\r\n          <div>No Post Found</div>\r\n        ) : (\r\n          <Post posts={currentPosts} loading={loading} heading=\"Post Results\" />\r\n        )}\r\n        <Pagination\r\n          postsPerPage={postsPerPage}\r\n          totalPosts={posts.length}\r\n          paginate={paginate}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default YourPosts;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport \"./MyRequestsScreen.css\";\r\nconst MyRequestsScreen = () => {\r\n  const alert = useAlert();\r\n\r\n  const [requests, setRequests] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    async function fetchMyRequests() {\r\n      try {\r\n        const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n        const config = {\r\n          headers: {\r\n            Authorization: `Bearer ${userInfo.token}`,\r\n          },\r\n        };\r\n        let fetch_requests = await axios.post(\"/api/myrequests\", {}, config);\r\n        if (loading) {\r\n          const data = Array.from(fetch_requests.data);\r\n          setLoading(false);\r\n          setRequests(data);\r\n        }\r\n        console.log(fetch_requests.data);\r\n      } catch (err) {\r\n        const msg = err.response ? err.response.data.message : err;\r\n        alert.show(msg, { type: \"error\" });\r\n      }\r\n    }\r\n    fetchMyRequests();\r\n    return () => {\r\n      setLoading(false);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-center\">My Requests</h2>\r\n      {requests.length > 0 ? (\r\n        requests.map((request) => (\r\n          <div className=\"requestbox\">\r\n            <h3>\r\n              Requested Post Title: <u>{request.postTitle}</u>{\" \"}\r\n            </h3>\r\n\r\n            <p>\r\n              Request From:\r\n              <Button variant=\"info\" className=\"mx-4\">\r\n                {\" \"}\r\n                {request.username}\r\n              </Button>\r\n            </p>\r\n            <p>User Id of Request Sender: {request.user}</p>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <h3 classname=\"text-center\">No Request Found</h3>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyRequestsScreen;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Routes, Route, Link } from \"react-router-dom\";\r\nimport Footer from \"./components/Footer/Footer\";\r\nimport Header from \"./components/Header/Header\";\r\nimport HomeScreen from \"./screens/HomeScreen/HomeScreen\";\r\nimport LoginScreen from \"./screens/LoginScreen/LoginScreen\";\r\nimport RegisterScreen from \"./screens/RegisterScreen/RegisterScreen\";\r\nimport ProfileScreen from \"./screens/ProfileScreen/ProfileScreen\";\r\nimport PostScreen from \"./screens/PostScreen/PostScreen\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport AddPostScreen from \"./screens/AddPostScreen/AddPostScreen\";\r\nimport axios from \"axios\";\r\nimport AddImageScreen from \"./screens/AddImageScreen/AddImageScreen\";\r\nimport SearchScreen from \"./screens/SearchScreen/SearchScreen\";\r\nimport MyRequestsScreen from \"./screens/MyRequestsScreen/MyRequestsScreen\";\r\nconst App = () => {\r\n  let navigate = useNavigate();\r\n\r\n  const [isAuth, setIsAuth] = useState(false);\r\n  const [profileFilled, setProfileFilled] = useState(false);\r\n  useEffect(() => {\r\n    if (!profileFilled && isAuth) {\r\n      navigate(\"/profile\");\r\n    }\r\n  }, [profileFilled, isAuth]);\r\n  useEffect(() => {\r\n    async function checkAuth() {\r\n      try {\r\n        const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n        const config = {\r\n          headers: {\r\n            Authorization: `Bearer ${userInfo.token}`,\r\n          },\r\n        };\r\n        const res = await axios.post(\"/auth/is_auth\", {}, config);\r\n        setProfileFilled(res.data.isProfile);\r\n        setIsAuth(res.data.isAuth);\r\n      } catch (err) {\r\n        setIsAuth(false);\r\n      }\r\n    }\r\n    checkAuth();\r\n    return () => {\r\n      setIsAuth(false);\r\n    };\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <header>\r\n        <Header isAuth={isAuth} setIsAuth={setIsAuth} />\r\n      </header>\r\n      <main>\r\n        <Routes>\r\n          <Route exact path=\"/post/:id\" element={<PostScreen />} />\r\n          <Route exact path=\"/addimage/:id\" element={<AddImageScreen />} />\r\n          <Route exact path=\"/search\" element={<SearchScreen />} />\r\n          <Route exact path=\"/myrequests\" element={<MyRequestsScreen />} />\r\n\r\n          <Route path=\"/\" element={<HomeScreen isAuth={isAuth} />} />\r\n          <Route path=\"/addpost\" element={<AddPostScreen isAuth={isAuth} />} />\r\n          <Route\r\n            path=\"/register\"\r\n            element={<RegisterScreen isAuth={isAuth} setIsAuth={setIsAuth} />}\r\n          />\r\n          <Route\r\n            path=\"/login\"\r\n            element={\r\n              <LoginScreen\r\n                isAuth={isAuth}\r\n                setIsAuth={setIsAuth}\r\n                setProfileFilled={setProfileFilled}\r\n              />\r\n            }\r\n          />\r\n\r\n          <Route\r\n            path=\"/profile\"\r\n            element={\r\n              <ProfileScreen\r\n                isAuth={isAuth}\r\n                setIsAuth={setIsAuth}\r\n                setProfileFilled={setProfileFilled}\r\n              />\r\n            }\r\n          />\r\n\r\n          <Route\r\n            path=\"/profile\"\r\n            element={\r\n              <ProfileScreen\r\n                isAuth={isAuth}\r\n                setIsAuth={setIsAuth}\r\n                setProfileFilled={setProfileFilled}\r\n              />\r\n            }\r\n          />\r\n        </Routes>\r\n      </main>\r\n      <footer>\r\n        <Footer />\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { transitions, positions, Provider as AlertProvider } from \"react-alert\";\r\nimport AlertTemplate from \"react-alert-template-basic\";\r\n\r\nconst options = {\r\n  // you can also just use 'bottom center'\r\n  position: positions.BOTTOM_CENTER,\r\n  timeout: 5000,\r\n  offset: \"30px\",\r\n  // you can also just use 'scale'\r\n  transition: transitions.SCALE,\r\n};\r\n\r\nReactDOM.render(\r\n  <AlertProvider template={AlertTemplate} {...options}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </AlertProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/siteLogo.764efc30.png\";","import React, { useState } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nconst AddImageScreen = () => {\r\n  const [img, setImg] = useState(null);\r\n  const { id } = useParams();\r\n\r\n  const captureImage = (e) => {\r\n    e.preventDefault();\r\n    const file = e.target.files[0];\r\n    const reader = new window.FileReader();\r\n    reader.readAsArrayBuffer(file);\r\n    reader.onloadend = () => {\r\n      setImg(Buffer(reader.result));\r\n    };\r\n  };\r\n  const submitForm = async (e) => {\r\n    e.preventDefault();\r\n    const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n    let formData = new FormData();\r\n    formData.append(\"image\", img);\r\n    formData.append(\"id\", id);\r\n\r\n    try {\r\n      const img = await axios.post(\"/api/upload\", formData, config);\r\n      if (img.status === 201) {\r\n        alert.show(\"Image Added Successfuly\", { type: \"success\" });\r\n      }\r\n    } catch (err) {\r\n      const msg = err.response ? err.response.data.message : err;\r\n      alert.show(msg, { type: \"error\" });\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"formdiv\">\r\n      <Form className=\"form\" onSubmit={(e) => submitForm(e)}>\r\n        <Form.Group className=\"mb-3\" controlId=\"Img\">\r\n          <Form.Label>Upload Image</Form.Label>\r\n          <Form.Control\r\n            type=\"file\"\r\n            multiple={false}\r\n            onChange={(e) => captureImage(e)}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddImageScreen;\r\n"],"sourceRoot":""}